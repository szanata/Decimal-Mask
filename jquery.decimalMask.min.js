(function(c){c.fn.decimalMask=function(b){function h(a){var b=c(a.currentTarget);b.val()!==a.data.ov&&(i.test(b.val())||b.val(a.data.ov),a.data.ov=b.val())}if(!b||!b.match)throw"decimalMask: you must set the mask string.";var a,f=/^-/.test(b)?"(-)?":"",d;a=b.match(/[0-9]{1,}/);d=null!==a?a[0].length:0;var g;a=b.match(/[0-9]{1,}$/);g=null!==a?a[0].length:0;var e;a=b.match(/,|\./);e=null!==a?a[0]:null;var j=/.*MSIE 8.*|.*MSIE 7.*|.*MSIE 6.*|.*MSIE 5.*/.test(navigator.userAgent)?"keyup.mask propertychange.mask paste.mask":
"input.mask paste.mask",i=null===e?RegExp("^"+f+"[0-9]{0,"+d+"}$"):RegExp("^"+f+"[0-9]{0,"+d+"}"+("."===e?"\\.":",")+"[0-9]{0,"+g+"}$|^"+f+"[0-9]{0,"+d+"}"+("."===e?"\\.":",")+"$|^"+f+"[0-9]{0,"+d+"}$");this.each(function(){c(this).attr("maxlength",d+g+(null===e?0:1)+(""===f?0:1)).val(c(this).val()?c(this).val().replace(".",e):c(this).val()).on(j,{ov:c(this).val()},h)})}})(jQuery);
